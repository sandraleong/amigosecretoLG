<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Amigo Secreto (c贸digos)</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f3f4f6;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }
    .card {
      background: #fff;
      padding: 24px 28px;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      max-width: 420px;
      width: 100%;
    }
    h1 { font-size: 1.4rem; margin: 0 0 0.25rem; text-align: center; }
    p  { margin: 0.25rem 0 1.25rem; font-size: 0.95rem; color: #4b5563; text-align: center; }
    label { display:block; margin-bottom:0.5rem; font-weight:600; font-size:0.95rem; color:#374151; }
    input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      font-size: 0.95rem;
      box-sizing: border-box;
    }
    button {
      margin-top: 14px;
      width: 100%;
      padding: 10px 12px;
      border-radius: 9999px;
      border: none;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      background: #2563eb;
      color: white;
    }
    button:hover { background: #1d4ed8; }
    .resultado {
      margin-top: 16px;
      padding: 12px 14px;
      border-radius: 10px;
      font-size: 0.95rem;
      text-align: center;
      display: none;
    }
    .resultado.ok {
      background: #ecfdf5;
      color: #166534;
      border: 1px solid #bbf7d0;
    }
    .resultado.error {
      background: #fef2f2;
      color: #991b1b;
      border: 1px solid #fecaca;
    }
    .nota {
      margin-top: 12px;
      font-size: 0.8rem;
      color: #6b7280;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Amigo Secreto  (con c贸digos)</h1>
    <p>Escribe tu c贸digo para ver a qui茅n le vas a regalar.</p>

    <label for="codigo">Tu c贸digo</label>
    <input id="codigo" type="text" placeholder="Ej: luna" autocomplete="off" />

    <button id="ver">Ver a qui茅n le regalo</button>

    <div id="resultado" class="resultado"></div>

    <div class="nota">
      No se guardan datos. Comparte el c贸digo a cada persona de forma privada.
    </div>
  </div>

  <script>
    //  ASIGNACIONES POR CDIGO
    // Clave: c贸digo (en min煤sculas, sin espacios)
    // Valor: nombre de la persona a quien le regalan
    const asignacionesPorCodigo = {
      "luna": "Juan",
      "sol": "Mar铆a",
      "nube": "Pedro",
      "rio": "Ana",
      "estrella": "Luis"
    };

    const inputCodigo = document.getElementById("codigo");
    const botonVer = document.getElementById("ver");
    const divResultado = document.getElementById("resultado");

    botonVer.addEventListener("click", mostrar);
    inputCodigo.addEventListener("keydown", (e) => {
      if (e.key === "Enter") mostrar();
    });

    function mostrar() {
      const codigo = normalizar(inputCodigo.value);

      if (!codigo) {
        pintar("Escribe tu c贸digo, por favor.", false);
        return;
      }

      const destinatario = asignacionesPorCodigo[codigo];

      if (!destinatario) {
        pintar("C贸digo no v谩lido. Revisa que est茅 bien escrito.", false);
        return;
      }

      pintar("Te toc贸 regalarle a: <strong>" + escapar(destinatario) + "</strong>", true);
    }

    function normalizar(txt) {
      return (txt || "")
        .trim()
        .toLowerCase()
        .replace(/\s+/g, ""); // quita espacios por si escriben "lu na"
    }

    function pintar(html, ok) {
      divResultado.style.display = "block";
      divResultado.innerHTML = html;
      divResultado.className = "resultado " + (ok ? "ok" : "error");
    }

    function escapar(str) {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }
  </script>
</body>
</html>
